name: Simple Release

on:

  push:

    branches: [main]
 
jobs:

  build:

    runs-on: ubuntu-latest

    permissions:

      contents: write

    steps:

      - uses: actions/checkout@v4

        with:

          fetch-depth: 0
 
      - name: Bump version and push tag

        id: tag_version

        uses: mathieudutour/github-tag-action@v6.2

        with:

          github_token: ${{ secrets.GITHUB_TOKEN }}
 
      - name: Create a GitHub Release

        uses: softprops/action-gh-release@v2

        with:

          tag_name: ${{ steps.tag_version.outputs.new_tag }}

          name: Release ${{ steps.tag_version.outputs.new_tag }}

          body: ${{ steps.tag_version.outputs.changelog }}

 